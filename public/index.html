<!DOCTYPE html lang="pt">
<html ng-app='mmibty'>
  <head>
    <title>My Music Is Better Than Yours</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="=viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="js/jquery-2.2.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-cookies.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.js"></script>

    <!-- BootStrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- Angular scripts -->
    <script src="js/mmibty.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/filters.js"></script>

  </head>
  <body ng-controller="mmibtyController as mm">
    <div class="container">
      <div class="jumbotron">
	<div class="page-header">
	  <h1>My music is better than yours <small>FUNd√£o edition</small></h1>
	</div>
	<div ng-show="mm.isAdmin" class="admin-panel">
	<a href="rest/login">Log in</a>
	</div>
	<div>
	  <div class="input-group input-group-lg">
	    <span class="input-group-addon" id="sizing-addon1">@</span>
	    <input type="text" class="form-control"
		   placeholder="Today i am feeling ... "
		   aria-describedby="sizing-addon1"
		   ng-model="mm.feels">
	    <span class="input-group-btn">
	      <button class="btn btn-default" type="button" ng-click="mm.go()">Post</button>
	    </span>
	  </div>
	</div>
      </div>
      
      <div class="container">
	<div>
	  <ul class="nav nav-pills">
	    <li role="presentation" ng-class="{active: mm.selected(0)}"><a href="#" ng-click="mm.selectedTab=0">Pick</a></li>
	    <li role="presentation" ng-class="{active: mm.selected(1)}"><a href="#" ng-click="mm.selectedTab=1">Your music</a></li>
	    <li role="presentation" ng-class="{active: mm.selected(2)}"><a href="#" ng-click="mm.selectedTab=2">Our music</a></li>
	    <li role="presentation" ng-class="{active: mm.selected(3)}"><a href="#" ng-click="mm.selectedTab=3">Is better</a></li>
	  </ul>
	</div>
	
	<div ng-show="mm.selected(0)">
	  <!-- search bar -->
	  <div class="input-group input-group-lg search-bar">
	    <input type="text"
		   class="form-control"
		   placeholder="Search for artist or music"
		   aria-describedby="sizing-addon1"
		   ng-model="mm.searchInput"
		   ng-keypress="mm.keypressSearch($event)">
	    <span class="input-group-btn">
	      <button class="btn btn-default" type="button" ng-click="mm.searchTrack()"><i class="material-icons">search</i></button>
	    </span>
	  </div>

	  <!-- display search bar results -->
	  <div class="row">
	    <div ng-repeat="pages in mm.searchResultArray">
	      <div class="col-sm-6 col-md-3" ng-repeat="t in pages.tracks.items | orderBy:'-popularity'">

		<div class="thumbnail" >
		  <img class="thumb-img" ng-src="{{t.album.images[1].url}}" alt="album image">
		  <div class="caption">
		    <h4 data-toggle="tooltip" title="{{t.name}}" >{{t.name | cutwords:true:25:'...'}}</h4>
		    <h5>by: <a href={{t.artists[0].external_url.spotify}} >{{t.artists[0].name}}</a></h5>
		    <p>
		      <i class="material-icons">favorite</i> {{t.popularity}}
		      <i class="material-icons">av_timer</i> {{t.duration_ms | date:'mm:ss'}}
		    </p>
		    <p>
		      <a href="#" class="btn btn-primary" role="button" ng-click="mm.addTrack(t.uri)"><i class="material-icons">add</i></a>
		      <a href="{{t.preview_url}}" class="btn btn-primary" role="button"><i class="material-icons">play_arrow</i></a>
		    </p>
		  </div>
		</div>
	      </div>
	    </div>
	    <!-- Check if there are more results on search  -->
	    <div class="btn-block" ng-show="mm.searchResultArray[mm.searchResultArray.length-1].tracks.next!=null"><a class="btn btn-default see-more" ng-click="mm.getMoreTracks(mm.searchResultArray[mm.searchResultArray.length-1].tracks.next)">See more results</a></div>
	  </div>
	  
	</div>
	<!--  MUSIC PER USER -->
	<div ng-show="mm.selected(1)">
	  <h1>{{mm.name}} you contributed with {{mm.userStats.song_number}} awesome songs </h1>
	  <h1>{{mm.userStats}}</h1>
	  <div>

	    <div class="row">


	      <div class="cubehover dance col-sm-6 col-md-4">
		<div class="hover-show">
		  <h1 class="stat">{{mm.userStats.danceability}}</h1>
		</div>
		<div class="hover-hide">
		  <h3>[ Danceability ]</h3>
		  <p>how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable.</p>
		</div>
	      </div>
	      
	    <div class="cubehover energy col-sm-6 col-md-6">
	      <div class="hover-show">
		<h1 class="stat">{{mm.userStats.energy}}</h1>
	      </div>
	      <div class="hover-hide">
			<h3>[ Energy ]</h3>
		<p>Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy.</p>
	      </div>
	    </div>

	    <div class="cubehover acoustic col-sm-6 col-md-5">
	      <div class="hover-show">
		<h1 class="stat">{{mm.userStats.acousticness}}</h1>
	      </div>
	      <div class="hover-hide">
		<h3>[ Acousticness ]</h3>
		<p>AFrom 0.0 to 1.0 of whether the track is acoustic. A higher number indicates a preference for acoustic tracks on the playlist.</p>
	      </div>
	    </div>
	    <div class="cubehover valence col-sm-6 col-md-6">
	       <div class="hover-show">
		<h1 class="stat">{{mm.userStats.valence}}</h1>
	      </div>
	       <div class="hover-hide">
		 <h3>[ Valence ]</h3>
		<p>A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry).</p>
	      </div>
	      </div>
	      

	    </div>
	     <div class="row">
	    <div class="cubehover live col-sm-6 col-md-6 ">
	      <div class="hover-show">
		<h1 class="stat">{{mm.userStats.liveness}}</h1>
	      </div>
	      <div class="hover-hide">
		<h3>[ Liveness ]</h3>
		<p>Detects the presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. A value above 0.8 provides strong likelihood that the track is live.</p>
	      </div>
	    </div>

	    <div class="cubehover loud col-sm-6 col-md-6">
	      <div class="hover-show">
		<h1 class="stat">{{mm.userStats.loudness}}</h1>
	      </div>
	      <div class="hover-hide">
		<h3>[ Loudness ]</h3>
		<p>The overall loudness of a track in decibels (dB). Loudness values are averaged across the entire track and are useful for comparing relative loudness of tracks. Loudness is the quality of a sound that is the primary psychological correlate of physical strength (amplitude). Values typical range between -60 and 0 db.</p>
	      </div>
	    </div>

	     <div class="cubehover speech col-sm-6 col-md-6">
	      <div class="hover-show">
		<h1 class="stat">{{mm.userStats.speechiness}}</h1>
	      </div>
	      <div class="hover-hide">
		<h3>[ Speechiness ]</h3>
		<p>Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording, the closer to 1.0 the attribute value.</p>
	      </div>
	     </div>

	     <div class="cubehover duration col-sm-6 col-md-6">
	       <div class="hover-show">
		 <h1 class="stat">{{mm.userStats.duration_ms | date:'hh:mm:ss' }}</h1>
	       </div>
	       <div class="hover-hide">
		 <h3>[ Duration ]</h3>
		<p>The total duration of the tracks</p>
	      </div>
	     </div>
	     </div>
	  </div>
	</div>

	<!-- Tracks available on the playlist -->
	<div ng-show="mm.selected(2)">
	  <div ng-repeat="track in mm.playlistTracksArray">
	    <div class="col-sm-6 col-md-4" ng-repeat="pt in track.items" >
	      <div class="thumbnail">
		<img class="thumb-small" ng-src="{{pt.track.album.images[2].url}}" alt="album image" />
		<div class="caption caption-small">
		  <h4 data-toggle="tooltip" title="{{t.name}}" >{{pt.track.name | cutwords:true:25:'...'}}</h4>
		  <h5>by: <a href={{pt.track.artists[0].external_url.spotify}} >{{pt.track.artists[0].name}}</a></h5>
		</div>
	      </div>
	    </div>
	    <div class="btn-block" ng-show="mm.playlistTracksArray[mm.playlistTracksArray.length-1].tracks.next!=null">
	      <a class="btn btn-default see-more" ng-click="mm.getMorePlaylistTracks(mm.playlistTracksArray[mm.playlistTracksArray.length-1].tracks.next)">more tracks</a>
	    </div>   
	  </div>
	</div>
	
	<!-- Statistics of the playlist-->
	<div ng-show="mm.selected(3)">
	  <div>
	    <h1 data-toggle="tooltip" title="Hooray!" >information regarding the music playlist</h1>
	    <img ng-src="images/inprogress.png" />       
	  </div>
	</div>
      </div>
    </div>
  </body>
</html>
